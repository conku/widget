!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof exports?require("jquery"):jQuery)}(function(t){"use strict";function i(e,n){this.$element=t(e),this.options=t.extend({},i.DEFAULTS,t.isPlainObject(n)&&n),this.init()}var e,n=t("body"),o="qor.widget.inlineEdit",r="enable."+o,d="disable."+o,a="click."+o,s=".qor-widget-button",u="#qor-widget-iframe";return i.prototype={constructor:i,init:function(){this.bind(),this.initStatus()},bind:function(){this.$element.on(a,s,this.click)},initStatus:function(){n.append('<iframe id="qor-widget-iframe" src="'+e+'"></iframe>')},click:function(){var i=t(this);return t(u).addClass("show").focus(),t(u).contents().find(".js-widget-edit-link").attr("data-url",i.data("url")),n.addClass("open-widget-editor"),!1}},i.plugin=function(e){return this.each(function(){var n,r=t(this),d=r.data(o);if(!d){if(/destroy/.test(e))return;r.data(o,d=new i(this,e))}"string"==typeof e&&t.isFunction(n=d[e])&&n.apply(d)})},t(function(){n.attr("data-toggle","qor.widgets"),t(".qor-widget").each(function(){var i=t(this),n=i.children().eq(0);e=i.data("widget-inline-edit-url"),n.css("position","relative").addClass("qor-widget").unwrap(),n.append('<div class="qor-widget-embed-wrapper"><button data-url="'+i.data("url")+'" class="qor-widget-button">Edit</button></div>')}),window.closeWidgetEditBox=function(){t(u).removeClass("show"),n.removeClass("open-widget-editor"),t(u)[0].contentWindow.location.reload()};var o='[data-toggle="qor.widgets"]';t(document).on(d,function(e){i.plugin.call(t(o,e.target),"destroy")}).on(r,function(e){i.plugin.call(t(o,e.target))}).triggerHandler(r)}),i});